- trigger:
    name: build-artifacts_trigger_on-change
    triggers:
      - gerrit:
          server-name: '{gerrit-server}'
          trigger-on:
              - change-merged-event
          escape-quotes: true
          projects:
              - project-compare-type: 'PLAIN'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'PLAIN'
                    branch-pattern: '{branch}'

- trigger:
    name: check-patch_trigger_on-change
    triggers:
      - gerrit:
          server-name: '{gerrit-server}'
          trigger-on:
              - draft-published-event
              - patchset-created-event:
                  exclude-drafts: true
                  exclude-no-code-change: true
          escape-quotes: true
          projects:
              - project-compare-type: 'PLAIN'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'PLAIN'
                    branch-pattern: '{branch}'

- trigger:
    name: check-merged_trigger_on-change
    triggers:
      - gerrit:
          server-name: '{gerrit-server}'
          trigger-on:
              - change-merged-event
          escape-quotes: true
          projects:
              - project-compare-type: 'PLAIN'
                project-pattern: '{project}'
                branches:
                  - branch-compare-type: 'PLAIN'
                    branch-pattern: '{branch}'

- trigger:
    name: build-artifacts_trigger_timed
    triggers:
      - timed: '{trigger-times}'

- trigger:
    name: check-patch_trigger_timed
    triggers:
      - timed: '{trigger-times}'

- trigger:
    name: check-merged_trigger_timed
    triggers:
      - timed: '{trigger-times}'

# this is needed because if you reconfigure a job that had triggers with empty
# triggers, it will not really remove any of them, you have to set at least one
# trigger
- trigger:
    name: dummy-trigger
    triggers:
      - timed: ''

- trigger:
    name: build-artifacts-manual_trigger_manual
    triggers: !!seq []
