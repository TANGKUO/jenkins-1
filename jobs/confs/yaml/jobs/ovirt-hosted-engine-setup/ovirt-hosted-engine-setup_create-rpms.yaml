- project:
    name: ovirt-hosted-engine-setup_create-rpms
    project:
      - ovirt-hosted-engine-setup
    trigger:
      - merged
    version:
      - 3.5:
          branch: ovirt-hosted-engine-setup-1.2
          extra-repos: |
            ovirt-3.5-snapshot,http://resources.ovirt.org/pub/ovirt-3.5-snapshot/rpm/$distro
            ovirt-3.5-snapshot-static,http://resources.ovirt.org/pub/ovirt-3.5-snapshot-static/rpm/$distro
      - master:
          extra-repos: |
            ovirt-master-snapshot,http://resources.ovirt.org/pub/ovirt-master-snapshot/rpm/$distro
            ovirt-master-snapshot-static,http://resources.ovirt.org/pub/ovirt-master-snapshot-static/rpm/$distro
          branch: master
    mock-build-type: onlyrpm
    distro:
      - fc19
      - fc20
      - el6:
          extra-build-packages: |
            otopi-devtools
            autoconf
            gettext-devel
            automake
      - el7
    arch:
      - x86_64
    jobs:
      - '{project}_{version}_create-rpms-{distro}-{arch}_{trigger}'


- project:
    name: ovirt-hosted-engine-setup_3.4_create-rpms
    project:
      - ovirt-hosted-engine-setup
    trigger:
      - merged
    version:
      - 3.4:
          branch: ovirt-hosted-engine-setup-1.1
          extra-repos: |
            ovirt-3.4-snapshot,http://resources.ovirt.org/pub/ovirt-3.4-snapshot/rpm/$distro
            ovirt-3.4-snapshot-static,http://resources.ovirt.org/pub/ovirt-3.4-snapshot-static/rpm/$distro
          extra-build-packages: |
            otopi-devtools
            autoreconf
            gettext-devel
            automake
          mock-build-type: all
    mock-build-type: onlyrpm
    distro:
      - fc19
      - fc20
      - el6:
          extra-build-packages: |
            otopi-devtools
            autoconf
            gettext-devel
            automake
    arch:
      - x86_64
    jobs:
      - '{project}_{version}_create-rpms-{distro}-{arch}_{trigger}'
