- project:
    name: ovirt-hosted-engine-ha_master_create-rpms-el7
    project:
      - ovirt-hosted-engine-ha
    trigger:
      - merged
      - created
    distro:
      - el7
    version:
      - master:
          extra-repos: |
            ovirt-master-snapshot,http://resources.ovirt.org/pub/ovirt-master-snapshot/rpm/$distro
            ovirt-master-snapshot-static,http://resources.ovirt.org/pub/ovirt-master-snapshot-static/rpm/$distro
            centos-ovirt40-candidate,http://cbs.centos.org/repos/virt7-ovirt-40-candidate/x86_64/os/
          branch: master
          repoversion: master
      - 4.0:
          extra-repos: |
            ovirt-master-snapshot,http://resources.ovirt.org/pub/ovirt-4.0-snapshot/rpm/$distro
            ovirt-master-snapshot-static,http://resources.ovirt.org/pub/ovirt-4.0-snapshot-static/rpm/$distro
            centos-ovirt40-candidate,http://cbs.centos.org/repos/virt7-ovirt-40-candidate/x86_64/os/
          branch: v2.0.z
          repoversion: 4.0
      - 3.6:
          extra-repos: |
            ovirt-36-snapshot,http://resources.ovirt.org/pub/ovirt-3.6-snapshot/rpm/$distro
            ovirt-36-snapshot-static,http://resources.ovirt.org/pub/ovirt-3.6-snapshot-static/rpm/$distro
          branch: ovirt-hosted-engine-ha-1.3
          repoversion: 3.6
    mock-build-type: onlyrpm
    arch: x86_64
    extra-packages: |
      git
      autoconf
    jobs:
      - '{project}_{version}_create-rpms-{distro}-{arch}_{trigger}':
          extra-configure-options: |
              --prefix=/usr \
              --exec_prefix=/usr \
              --sysconfdir=/etc \
              --localstatedir=/var


- project:
    name: ovirt-hosted-engine-ha_master_create-rpms_fc
    project:
      - ovirt-hosted-engine-ha
    trigger:
      - merged
      - created
    distro:
      - fc23
      - fc24
    version:
      - master:
          extra-repos: |
            ovirt-master-snapshot,http://resources.ovirt.org/pub/ovirt-master-snapshot/rpm/$distro
            ovirt-master-snapshot-static,http://resources.ovirt.org/pub/ovirt-master-snapshot-static/rpm/$distro
          branch: master
          repoversion: master
      - 4.0:
          extra-repos: |
            ovirt-master-snapshot,http://resources.ovirt.org/pub/ovirt-4.0-snapshot/rpm/$distro
            ovirt-master-snapshot-static,http://resources.ovirt.org/pub/ovirt-4.0-snapshot-static/rpm/$distro
          branch: v2.0.z
          repoversion: 4.0
    exclude:
      - version: master
        distro: fc23
      - version: 4.0
        distro: fc24
    mock-build-type: onlyrpm
    arch: x86_64
    extra-packages: |
      git
      autoconf
    jobs:
      - '{project}_{version}_create-rpms-{distro}-{arch}_{trigger}':
          extra-configure-options: |
              --prefix=/usr \
              --exec_prefix=/usr \
              --sysconfdir=/etc \
              --localstatedir=/var
